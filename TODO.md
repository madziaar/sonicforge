# ðŸŒ‘ OBSIDIAN PROTOCOL: V5 IMPLEMENTATION ROADMAP

> **STATUS**: ACTIVE
> **TARGET**: SUNO v5 + STUDIO ARCHITECTURE
> **PRIORITY**: CRITICAL

Based on the latest intelligence packet (Warner Partnership, Suno Studio Launch, v5 Model), the following refactoring plan has been established for Sonic Forge.

## 1. CORE UPGRADES (IMMEDIATE)
- [x] **Knowledge Base Injection**: Update internal documentation with v5 specs, 8-minute limits, and new tier structures.
- [x] **Version Bump**: Advance system version to `7.5.0 // STUDIO`.
- [ ] **Stem Terminal Upgrade**: Expand `StemTerminal` from 4 stems (Vocals, Drums, Bass, Melody) to **12 Stems** (adding Guitar, Piano, Strings, FX, etc.) to match v5 Studio capabilities.
- [ ] **Duration Logic**: Update `structureLyrics` and `time_signatures` to handle 8-minute timelines (up from 4).

## 2. STUDIO INTERFACE (DAW INTEGRATION)
- [ ] **Timeline Visualizer**: Refactor `StructureBuilder` to resemble a linear DAW timeline rather than a vertical list.
- [ ] **MIDI Export UI**: Add a "Download MIDI" option in the `ExportPanel` (simulated generation).
- [ ] **Upload Zones**: Split `AudioUploader` into dedicated "Vocal Input" (for *Add Instrumentals*) and "Instrumental Input" (for *Add Vocals*) zones with specific context prompts.

## 3. INTELLIGENCE LAYER
- [ ] **Inspire Engine**: Create a new input module for "Playlist Analysis" to generate style prompts based on user-pasted Spotify/YouTube playlist links.
- [ ] **Remaster Agent**: Add a specific agentic workflow for taking old v3/v4 prompts and "Upscaling" them to v5 standards (adding detail, fixing structure).
- [ ] **Negative Prompting**: Deepen the `NegativePromptInput` integration to influence the `critic` agent more heavily.

## 4. PERSONA EXPANSION
- [ ] **Warner Opt-In Flag**: Add a toggle in `Settings` for "Artist Opt-In Compatibility" (restricts training data to licensed sets).
- [ ] **Persona Library Update**: Add preset personas for "Studio Engineer" (v5 focus) and "Legal Eagle" (Copyright safe focus).

## 5. REFACTORING TARGETS
- `features/generator/components/Studio/StemTerminal.tsx`: Hardcoded to 4 stems. Needs dynamic expansion.
- `features/generator/utils/lyricsFormatter.ts`: `generateStructure` needs logic for 8-minute extended arrangements.
- `services/ai/prompts/system.ts`: Update system instructions to explicitly mention v5 studio quality and "Human-like vocals" prioritization.

---
*Generated by Pyrite Alpha // Sonic Forge V5*